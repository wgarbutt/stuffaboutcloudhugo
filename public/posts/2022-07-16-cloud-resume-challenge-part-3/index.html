<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Cloud Resume Challenge – Part 3 :: Stuff About Cloud</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Step 7: Javascript We need to include Javascript to call upon our APIs we created earlier. This took me quite a bit of time as I was struggling to find a solution that worked for me, whether I did something wrong in the earlier parts or wasn’t quite understanding things correctly I’m not sure.
Below is my two Javascripts I created, the first one invokes out POST method, which increases the visitor count value on our DynamoDB" />
<meta name="keywords" content="ESXi, VMWare, AWS, Amazon, Docker, Cloud, Blog" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://stuffabout.cloud/posts/2022-07-16-cloud-resume-challenge-part-3/" />




<link rel="stylesheet" href="https://stuffabout.cloud/assets/style.css">






<link rel="apple-touch-icon" href="https://stuffabout.cloud/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://stuffabout.cloud/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="Will Garbutt" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Cloud Resume Challenge – Part 3">
<meta property="og:description" content="Step 7: Javascript We need to include Javascript to call upon our APIs we created earlier. This took me quite a bit of time as I was struggling to find a solution that worked for me, whether I did something wrong in the earlier parts or wasn’t quite understanding things correctly I’m not sure.
Below is my two Javascripts I created, the first one invokes out POST method, which increases the visitor count value on our DynamoDB" />
<meta property="og:url" content="https://stuffabout.cloud/posts/2022-07-16-cloud-resume-challenge-part-3/" />
<meta property="og:site_name" content="Stuff About Cloud" />

  
    <meta property="og:image" content="https://stuffabout.cloud/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2022-07-16 00:00:00 &#43;0000 UTC" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Stuff About Cloud
  </div>
</a>

    </div>
    
  </div>
  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://stuffabout.cloud/posts/2022-07-16-cloud-resume-challenge-part-3/">Cloud Resume Challenge – Part 3</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2022-07-16
        
      </span>
    
    
      <span class="post-author">:: Will Garbutt</span>
    
    
  </div>

  
  


  

  <div class="post-content"><div>
        <h2 id="step-7-javascript">Step 7: Javascript<a href="#step-7-javascript" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>We need to include Javascript to call upon our APIs we created earlier. This took me quite a bit of time as I was struggling to find a solution that worked for me, whether I did something wrong in the earlier parts or wasn’t quite understanding things correctly I’m not sure.</p>
<p>Below is my two Javascripts I created, the first one invokes out POST method, which increases the visitor count value on our DynamoDB</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://5cabfxax81.execute-api.ap-southeast-2.amazonaws.com/Prod/&#39;</span>, {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">method</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;POST&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">headers</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#34;Content-type&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;application/x-www-form-urlencoded; charset=UTF-8&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  })
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">response</span> =&gt; <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>())
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">then</span>(<span style="color:#a6e22e">json</span> =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">json</span>);
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><p>And the second to retrieve the value of the visitor count</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">fetch</span>(<span style="color:#e6db74">&#39;https://5cabfxax81.execute-api.ap-southeast-2.amazonaws.com/Prod/&#39;</span>)
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">response</span> =&gt; <span style="color:#a6e22e">response</span>.<span style="color:#a6e22e">json</span>()))  
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">data</span>) =&gt; {document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#34;counter&#34;</span>).<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>})                                
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">script</span>&gt;
</span></span></code></pre></div><p>We then exchange the value <code>counter</code> for the number from the database</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">p</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;subDetails&#34;</span>&gt;You are visitor number &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;counter&#34;</span>&gt;loading...&lt;/<span style="color:#f92672">span</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt; 
</span></span></code></pre></div><p><img src="../Images/CloudResumeChallenge/image7.png" alt=""></p>
<h2 id="step-12-infrastructure-as-code">Step 12: Infrastructure as Code<a href="#step-12-infrastructure-as-code" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Throughout these steps I have made reference to using CloudFoundation as a first stop as much as possible. If I had to use the GUI first I would export the resources as code via <a href="https://former2.com/">Former2</a>.</p>
<p><strong>Exporting via Former2</strong></p>
<ul>
<li>Create a Read-Only IAM user with programmatic access keys, Former2 will use this to scan your infrastructure for deployed resources</li>
<li>Run through the setup wizard, it will ask you to install a plugin for your browser, ask for credentials and any other parameters you want to specify. When finished press the Scan Account button.</li>
<li>Once scan has completed, click the Dashboard button, you will be presented with all of AWS’s services. If you click on the service you need the code for you should see your resources listed with some check boxes. If you check the box the resource code will be added to the list to be generated</li>
<li>Click generate, you will be presented with a screen with all of the resources you selected coded in YAML.</li>
</ul>
<p>My template.yaml is stored on my GitHub <a href="https://github.com/wgarbutt/Cloud-Resume-Challenge/blob/main/template.yaml">here</a>. I’ve destroyed and reapplied my stack twice to confirm I haven’t missed anything. Very happy with it.</p>
<h2 id="step-131415-source-control-and-cicd">Step 13/14/15: Source Control and CI/CD<a href="#step-131415-source-control-and-cicd" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>I’ve setup all of my code to store in <a href="https://github.com/wgarbutt">GitHub</a>. I save my edits in Visual Studio Code and commit to my GitHub repository.<br>
I have created a AWS Pipeline that monitors my repository for changes and when a commit is received, downloads the repository to the S3 bucket hosting my website and replaces the files, keeping the site up to date within a few seconds of pressing commit.<br>
I followed the post from Casey McMullen <a href="https://aws.plainenglish.io/how-to-set-up-simple-ci-cd-using-aws-codepipeline-with-github-8dc265470184">here</a></p>
<h2 id="step-16-this-blog">Step 16: This Blog<a href="#step-16-this-blog" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>I’m not the greatest at communicating, both verbal and written, so writing this blog wasn’t something that came naturally to me. I hope this helps someone out there like other posts on the internet helped me. I am very open to feedback, so if you have anything to share please let me know. I can be reached at <a href="mailto:wgarbutt@gmail.com">wgarbutt@gmail.com</a></p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://stuffabout.cloud/posts/2022-07-16-cloud-resume-challenge-part-2/">
                <span class="button__icon">←</span>
                <span class="button__text">Cloud Resume Challenge – Part 2</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://stuffabout.cloud/posts/2022-07-14-aws-vault/">
                <span class="button__text">AWS Vault</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  
  

  
</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>2022</span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://stuffabout.cloud/assets/main.js"></script>
<script src="https://stuffabout.cloud/assets/prism.js"></script>







  
</div>

</body>
</html>
