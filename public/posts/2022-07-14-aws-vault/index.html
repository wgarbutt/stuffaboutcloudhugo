<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        AWS Vault ::
        Stuff About Cloud — things I&#39;ve learnt while navigating through the cloud
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Let me tell you about a neat little tool I recently discovered to make AWS logins easier. Its called AWS Vault, its developed by a third party named 99Designs. The link to the GitHub repository is here.
AWS Vault allows you to store IAM credentials to your OS keystore and then generates temporary credentials from those to use for your chosen shell. I myself use Windows and Powershell.
Here is a run through on the install process I followed."
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://stuffabout.cloud/posts/2022-07-14-aws-vault/" />





<link rel="stylesheet" href="https://stuffabout.cloud/assets/style.css" />

<link rel="stylesheet" href="https://stuffabout.cloud/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="https://stuffabout.cloud/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="https://stuffabout.cloud/img/favicon.png" />


<link href="https://stuffabout.cloud/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://stuffabout.cloud/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://stuffabout.cloud/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://stuffabout.cloud/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://stuffabout.cloud/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="https://stuffabout.cloud/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="AWS Vault"/>
<meta name="twitter:description" content="Let me tell you about a neat little tool I recently discovered to make AWS logins easier. Its called AWS Vault, its developed by a third party named 99Designs. The link to the GitHub repository is here.
AWS Vault allows you to store IAM credentials to your OS keystore and then generates temporary credentials from those to use for your chosen shell. I myself use Windows and Powershell.
Here is a run through on the install process I followed."/>



<meta property="og:title" content="AWS Vault" />
<meta property="og:description" content="Let me tell you about a neat little tool I recently discovered to make AWS logins easier. Its called AWS Vault, its developed by a third party named 99Designs. The link to the GitHub repository is here.
AWS Vault allows you to store IAM credentials to your OS keystore and then generates temporary credentials from those to use for your chosen shell. I myself use Windows and Powershell.
Here is a run through on the install process I followed." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://stuffabout.cloud/posts/2022-07-14-aws-vault/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-07-14T00:00:00+00:00" /><meta property="og:site_name" content="Stuff About Cloud" />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Stuff About Cloud</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">AWS Vault</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2022-07-14
        </span>

        
          
        
      

      
        <span class="post-author"
          >— Written by Will Garbutt</span
        >


      
    </div>

    

    

    <div class="post-content">
      
      <p>Let me tell you about a neat little tool I recently discovered to make AWS logins easier. Its called AWS Vault, its developed by a third party named 99Designs. The link to the GitHub repository is <a href="https://github.com/99designs/aws-vault">here</a>.<br>
AWS Vault allows you to store IAM credentials to your OS keystore and then generates temporary credentials from those to use for your chosen shell. I myself use Windows and Powershell.<br>
Here is a run through on the install process I followed. Make sure you already have AWS CLI installed as the profile and configurations located in ~/.aws/config are used as part of AWS Vaults configuration.</p>
<h3 id="install-chocolatey">
  Install Chocolatey
  <a href="#install-chocolatey" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>There are a number of different ways to install AWS Vault, with one of them using <a href="https://chocolatey.org/packages/aws-vault">Chocolatey</a>. I have seen many references to Chocolatey that I decided this approach would be the most useful for myself.<br>
Its a simple one liner to get installed in Powershell:</p>
<pre tabindex="0"><code>Set-ExecutionPolicy Bypass -Scope Process -Force [System.Net.ServicePointManager]::SecurityProtocol = [System.Net.ServicePointManager]::SecurityProtocol -bor 3072; iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://community.chocolatey.org/install.ps1&#39;))
</code></pre><h3 id="install-aws-vault">
  Install AWS Vault
  <a href="#install-aws-vault" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Next we need to simply run the following command in Powershell to install AWS Vault</p>
<pre tabindex="0"><code>choco install aws-vault
</code></pre><h3 id="configuring-aws-vault">
  Configuring AWS Vault
  <a href="#configuring-aws-vault" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Now run the command to add IAM credentials to the credential store. This will prompt you for the Access and Secret key for your IAM user, this only shows once on screen from the AWS console so you may need to create new a new keyset</p>
<pre tabindex="0"><code>aws-vault add &amp;lt;myiamuser&amp;gt;
Enter Access Key ID: XXXXXXXXXX
Enter Secret Key: XXXXXXXXXXXXX
</code></pre><p>Now you should be all set to utilise the convenience of store credentials</p>
<p>For me, the biggest feature is the ability to login to the AWS console as any of your saved users<br>
For example, I run <code>aws-vault login will</code> from powershell which logs me in to the AWS console for a short period of time, enough for me to complete anything I may need.<br>
I have recently started using AWS SAM to wrap around some CloudFormation code I have been playing with, all I need to do to deploy my updates is type <code>aws-vault exec will --no-session -- sam deploy</code> and the job is done, no credentials needed!</p>
<h3 id="how-it-works">
  How it works
  <a href="#how-it-works" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>AWS Vault uses Amazon&rsquo;s STS service to generate <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_temp.html">temporary credentials</a> via the <code>GetSessionToken</code> or <code>AssumeRole</code> API calls. These expire in a short period of time, so the risk of leaking credentials is reduced.</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://stuffabout.cloud/posts/2022-07-16-cloud-resume-challenge-part-3/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Cloud Resume Challenge – Part 3</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://stuffabout.cloud/posts/2022-07-14-cloud-resume-challenge-part-1/">
                  <span class="button__text">Cloud Resume Challenge – Part 1</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Stuff About Cloud</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
        <span
          >© 2022 Powered by
          <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span
        >
        <span
          >Theme created by
          <a href="https://twitter.com/panr" target="_blank" rel="noopener">panr</a></span
        >
      </div>
    
  </div>
</footer>

<script src="https://stuffabout.cloud/assets/main.js"></script>
<script src="https://stuffabout.cloud/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
